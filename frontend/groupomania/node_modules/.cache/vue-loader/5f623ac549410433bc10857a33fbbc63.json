{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\OnePost.vue?vue&type=style&index=0&id=769e2848&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\OnePost.vue","mtime":1631663740855},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\css-loader\\dist\\cjs.js","mtime":1630549440343},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1630549444414},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\postcss-loader\\src\\index.js","mtime":1630549441195},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIC5jYXJkLXRpdGxlIHsNCiAgICBib3JkZXI6IHNvbGlkIDFweCB3aGl0ZTsNCiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoLTIyNWRlZywgI2QxNTE1OSA1MCUsICMxNDI1NDMgNTAlKTsNCiAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIGZvbnQtc2l6ZTogMTBweDsNCiAgICBmb250LXdlaWdodDogYm9sZGVyOw0KICB9DQoNCiAgLmNhcmQtaWNvbiB7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIG91dGxpbmU6IG5vbmU7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBsaW5lYXI7DQogICAgd2lkdGg6IDMwcHg7DQogIH0NCg0KICAuY2FyZC1nbG9iYWwgew0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICB9DQoNCiAgLmltYWdlVXJsIHsNCiAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIHdpZHRoOiAzMDBweDsNCiAgICBtYXgtd2lkdGg6IDEwMCU7DQogIH0NCg0KICAuY2hlY2tfYXBwZWFyIHsNCiAgICBkaXNwbGF5OiBub25lOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICB9DQoNCiAgLmNvbW1lbnQtdXNlcjpob3ZlciAuY2hlY2tfYXBwZWFyIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtZ3JpZDsNCiAgICBkaXNwbGF5OiBjb250ZW50czsNCiAgfQ0KDQogIC5pY29uLWZpZ2NhcHRpb24gew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIH0NCg0KICAuY2FyZC10aXRsZS1maWdjYXB0aW9uIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogIH0NCg=="},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\OnePost.vue"],"names":[],"mappings":"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","file":"C:/Users/COMPTE FORMATION/Documents/GitHub/p7_maquette/frontend/groupomania/src/views/OnePost.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"card-global\">\r\n    <div class=\"card-title\"><h1>One click, one post !</h1></div>\r\n    <div class=\"card\" v-for=\"(post, id) in post\" :key=\"id\">\r\n      <figure>\r\n        <div class=\"icon-figcaption\">\r\n          <figcaption class=\"card-title-figcaption\">\r\n            {{ post.content }}\r\n          </figcaption>\r\n          <button\r\n            title=\"Modifier le post\"\r\n            class=\"card-icon\"\r\n            v-if=\"userId == post.userId\"\r\n            @click=\"updatePost(post.id)\"\r\n          >\r\n            <i class=\"far fa-edit\"></i>\r\n          </button>\r\n          <button\r\n            title=\"Supprimer le post\"\r\n            class=\"card-icon\"\r\n            v-if=\"userId == post.userId\"\r\n            @click=\"deletePost(post.id)\"\r\n          >\r\n            <i class=\"fas fa-ban\"></i>\r\n          </button>\r\n        </div>\r\n        <div @click=\"goToOnePost()\">\r\n          <img\r\n            id=\"imageUrl-User\"\r\n            class=\"imageUrl\"\r\n            :src=\"post.imageUrl\"\r\n            alt=\"imageUrl\"\r\n          />\r\n        </div>\r\n        <p>\r\n          De: <b> {{ post.user.pseudo }} </b>\r\n        </p>\r\n        <div v-for=\"(comment, index) in post.comments\" :key=\"`comment${index}`\">\r\n          <p class=\"comment-user\">\r\n            {{ comment.user.pseudo }} <i class=\"fas fa-caret-right\"></i>\r\n            {{ comment.comment }}\r\n            <span class=\"check_appear\">\r\n              <input\r\n                class=\"update-comment\"\r\n                v-if=\"userId == comment.userId\"\r\n                v-model=\"comment.newComment\"\r\n              />\r\n              <button\r\n                title=\"Modifier le commentaire\"\r\n                class=\"card-icon\"\r\n                @click=\"updateCommentUser(comment.id, comment.newComment)\"\r\n              >\r\n                <i class=\"far fa-edit\"></i>\r\n              </button>\r\n              <button\r\n                title=\"Supprimer le commentaire\"\r\n                class=\"card-icon\"\r\n                v-if=\"userId == comment.userId\"\r\n                @click=\"deleteCommentUser(comment.id)\"\r\n              >\r\n                <i class=\"far fa-trash-alt\"></i>\r\n              </button>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <form id=\"survey\" ref=\"clear\" @submit.prevent=\"sendComments(post.id)\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Commentaire ...\"\r\n              v-model=\"comments[post.id]\"\r\n            />\r\n            <button\r\n              title=\"Poster un commentaire\"\r\n              type=\"submit\"\r\n              class=\"card-icon\"\r\n              @click.prevent=\"sendComments(post.id)\"\r\n            >\r\n              <i class=\"far fa-share-square\"></i>\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </figure>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  export default {\r\n    name: 'OnePost',\r\n\r\n    data() {\r\n      return {\r\n        comments: {},\r\n        post: [],\r\n        role: localStorage.getItem('role'),\r\n        token: localStorage.getItem('token'),\r\n        userId: localStorage.getItem('userId'),\r\n      };\r\n    },\r\n\r\n    created(postId) {\r\n      axios\r\n        .get(`http://localhost:3000/post/${postId}`, {\r\n          headers: { Authorization: 'Bearer ' + localStorage.token },\r\n        })\r\n        .then((res) => {\r\n          this.post = res.data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err + 'Utilisateur inconnu ou Posts indisponibles');\r\n        });\r\n    },\r\n\r\n    methods: {\r\n      sendComments(postId) {\r\n        axios\r\n          .post(\r\n            'http://localhost:3000/comment/create',\r\n            { postId, comment: this.comments[postId] },\r\n            {\r\n              headers: { Authorization: 'Bearer ' + localStorage.token },\r\n            }\r\n          )\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      deleteCommentUser(commentId) {\r\n        axios\r\n          .delete(`http://localhost:3000/comment/delete/${commentId}`, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      updateCommentUser(commentId, commentUser) {\r\n        axios\r\n          .put(\r\n            `http://localhost:3000/comment/update/${commentId}`,\r\n            { comment: commentUser },\r\n            {\r\n              headers: { Authorization: 'Bearer ' + localStorage.token },\r\n            }\r\n          )\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      deletePost(postId) {\r\n        axios\r\n          .delete(`http://localhost:3000/post/delete/${postId}`, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      updatePost(postId) {\r\n        axios\r\n          .put(`http://localhost:3000/post/update/${postId}`, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n/<style scoped>\r\n  .card-title {\r\n    border: solid 1px white;\r\n    background: linear-gradient(-225deg, #d15159 50%, #142543 50%);\r\n    margin-top: 10px;\r\n    font-size: 10px;\r\n    font-weight: bolder;\r\n  }\r\n\r\n  .card-icon {\r\n    display: inline-block;\r\n    outline: none;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    transition: all 0.2s linear;\r\n    width: 30px;\r\n  }\r\n\r\n  .card-global {\r\n    flex-direction: column-reverse;\r\n    display: flex;\r\n  }\r\n\r\n  .imageUrl {\r\n    margin-top: 10px;\r\n    width: 300px;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .check_appear {\r\n    display: none;\r\n    justify-content: center;\r\n  }\r\n\r\n  .comment-user:hover .check_appear {\r\n    display: inline-grid;\r\n    display: contents;\r\n  }\r\n\r\n  .icon-figcaption {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .card-title-figcaption {\r\n    margin-right: 10px;\r\n  }\r\n</style>\r\n"]}]}