{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Posted.vue?vue&type=template&id=c8d74f0e","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Posted.vue","mtime":1631501445985},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1630549444514},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImNhcmQiIHYtZm9yPSIocG9zdCwgaWQpIGluIHBvc3QiIDprZXk9ImlkIj4NCiAgICA8ZmlndXJlPg0KICAgICAgPGRpdj4NCnt7IHBvc3QuY29udGVudCB9fQ0KICAgICAgPC9kaXY+DQogICAgICA8aW1nDQogICAgICAgIGlkPSJpbWFnZVVybC1Vc2VyIg0KICAgICAgICBjbGFzcz0iaW1hZ2VVcmwiDQogICAgICAgIDpzcmM9InBvc3QuaW1hZ2VVcmwiDQogICAgICAgIGFsdD0iaW1hZ2VVcmwiDQogICAgICAvPg0KICAgICAgPHA+DQogICAgICAgIFB1YmxpZXIgcGFyOiA8Yj4ge3sgcG9zdC51c2VyLnBzZXVkbyB9fSA8L2I+DQogICAgICA8L3A+DQogICAgICA8ZGl2IHYtZm9yPSIoY29tbWVudCwgaW5kZXgpIGluIHBvc3QuY29tbWVudHMiIDprZXk9ImBjb21tZW50JHtpbmRleH1gIj4NCiAgICAgICAgPHA+e3sgY29tbWVudC51c2VyLnBzZXVkbyB9fSB7eyBjb21tZW50LmNvbW1lbnQgfX08L3A+DQogICAgICAgIDxidXR0b24NCiAgICAgICAgICB2LWlmPSJ1c2VySWQgPT0gY29tbWVudC51c2VySWQiDQogICAgICAgICAgQGNsaWNrPSJkZWxldGVDb21tZW50VXNlcihjb21tZW50LmlkKSINCiAgICAgICAgPg0KICAgICAgICAgIHN1cHByaW1lcg0KICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgDQogICAgICAgICA8aW5wdXQNCiAgICAgICAgICB2LWlmPSJ1c2VySWQgPT0gY29tbWVudC51c2VySWQiIHYtbW9kZWw9ImNvbW1lbnQubmV3Q29tbWVudCINCiAgICAgICAgPg0KICAgICAgICAgPGJ1dHRvbiBAY2xpY2s9J3VwZGF0ZUNvbW1lbnRVc2VyKGNvbW1lbnQuaWQsIGNvbW1lbnQubmV3Q29tbWVudCknPnVwZGF0ZTwvYnV0dG9uPiANCiAgICAgICAge3sgY29tbWVudC5pZCB9fQ0KDQogICAgICA8L2Rpdj4NCiAgICAgIDxmb3JtIGlkPSJzdXJ2ZXkiIHJlZj0iY2xlYXIiIEBzdWJtaXQucHJldmVudD0ic2VuZENvbW1lbnRzKHBvc3QuaWQpIj4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHYtbW9kZWw9ImNvbW1lbnRzW3Bvc3QuaWRdIiAvPg0KICAgICAgICA8YnV0dG9uDQogICAgICAgICAgdHlwZT0ic3VibWl0Ig0KICAgICAgICAgIGNsYXNzPSJwcm9maWxfX2J1dHRvbiINCiAgICAgICAgICBAY2xpY2sucHJldmVudD0ic2VuZENvbW1lbnRzKHBvc3QuaWQpIg0KICAgICAgICA+DQogICAgICAgICAgQ29tbWVudGVyDQogICAgICAgIDwvYnV0dG9uPg0KICAgICAgPC9mb3JtPg0KICAgIDwvZmlndXJlPg0KICA8L2Rpdj4NCg=="},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Posted.vue"],"names":[],"mappings":"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","file":"C:/Users/COMPTE FORMATION/Documents/GitHub/p7_maquette/frontend/groupomania/src/views/Posted.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"card\" v-for=\"(post, id) in post\" :key=\"id\">\r\n    <figure>\r\n      <div>\r\n{{ post.content }}\r\n      </div>\r\n      <img\r\n        id=\"imageUrl-User\"\r\n        class=\"imageUrl\"\r\n        :src=\"post.imageUrl\"\r\n        alt=\"imageUrl\"\r\n      />\r\n      <p>\r\n        Publier par: <b> {{ post.user.pseudo }} </b>\r\n      </p>\r\n      <div v-for=\"(comment, index) in post.comments\" :key=\"`comment${index}`\">\r\n        <p>{{ comment.user.pseudo }} {{ comment.comment }}</p>\r\n        <button\r\n          v-if=\"userId == comment.userId\"\r\n          @click=\"deleteCommentUser(comment.id)\"\r\n        >\r\n          supprimer\r\n        </button>\r\n        \r\n         <input\r\n          v-if=\"userId == comment.userId\" v-model=\"comment.newComment\"\r\n        >\r\n         <button @click='updateCommentUser(comment.id, comment.newComment)'>update</button> \r\n        {{ comment.id }}\r\n\r\n      </div>\r\n      <form id=\"survey\" ref=\"clear\" @submit.prevent=\"sendComments(post.id)\">\r\n        <input type=\"text\" v-model=\"comments[post.id]\" />\r\n        <button\r\n          type=\"submit\"\r\n          class=\"profil__button\"\r\n          @click.prevent=\"sendComments(post.id)\"\r\n        >\r\n          Commenter\r\n        </button>\r\n      </form>\r\n    </figure>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  export default {\r\n    name: 'Posted',\r\n\r\n    data() {\r\n      return {\r\n        comments: {},\r\n        post: [],\r\n        role: localStorage.getItem('role'),\r\n        token: localStorage.getItem('token'),\r\n        userId: localStorage.getItem('userId'),\r\n      };\r\n    },\r\n\r\n    created() {\r\n      axios\r\n        .get('http://localhost:3000/post/all', {\r\n          headers: { Authorization: 'Bearer ' + localStorage.token },\r\n        })\r\n        .then((res) => {\r\n          this.post = res.data.reverse();\r\n          console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err + 'Utilisateur inconnu ou Posts indisponibles');\r\n        });\r\n    },\r\n\r\n    methods: {\r\n      sendComments(postId) {\r\n        axios\r\n          .post(\r\n            'http://localhost:3000/comment/create',\r\n            { postId, comment: this.comments[postId] },\r\n            {\r\n              headers: { Authorization: 'Bearer ' + localStorage.token },\r\n            }\r\n          )\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      deleteCommentUser(commentId) {\r\n        axios\r\n          .delete(`http://localhost:3000/comment/delete/${commentId}`, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      updateCommentUser(commentId, commentUser) {\r\n        axios\r\n          .put(`http://localhost:3000/comment/update/${commentId}`, {comment: commentUser}, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n/<style></style>\r\n"]}]}