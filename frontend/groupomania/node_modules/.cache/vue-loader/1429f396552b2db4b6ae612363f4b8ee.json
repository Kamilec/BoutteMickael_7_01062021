{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue?vue&type=template&id=ced23842&scoped=true","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue","mtime":1630952372812},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1630549444514},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPG1haW4+DQogICAgICAgIDwhLS1BZmZpY2hhZ2UgZGUgbCdhcnRpY2xlLS0+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZmlsX19pbmZvIj4NCiAgICAgICAgICAgICAgICA8cCBjbGFzcz0icHJvZmlsX19oZWxsbyI+Qm9uam91ciB7e3VzZXIucHNldWRvfX0gITwvcD4NCiAgICAgICAgICAgICAgICA8cCBjbGFzcz0icHJvZmlsX19wYXJhIj5Wb2ljaSBsZXMgaW5mb3JtYXRpb25zIGRlIHZvdHJlIGNvbXB0ZSA6IDwvcD4NCiAgICAgICAgICAgICAgICA8cCBjbGFzcz0icHJvZmlsX19wc2V1ZG8iPiBQc2V1ZG9ueW1lIDoge3t1c2VyLnBzZXVkb319PC9wPg0KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJwcm9maWxfX2VtYWlsIj5FbWFpbCA6IHt7dXNlci5lbWFpbH19PC9wPg0KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJhdmF0YXIiPkF2YXRhciB7e3VzZXIuYXZhdGFyfX0gITwvcD4NCg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9maWxfX2RlbGV0ZSI+DQogICAgICAgICAgICAgICAgPCEtLUJvdXRvbiBwb3VyIHN1cHByaW1lciBsJ2FydGljbGUtLT4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIHYtb246Y2xpY2s9ImRlbGV0ZVVzZXIodXNlci5pZCkiIGNsYXNzPSJwcm9maWxfX2J1dHRvbiI+U3VwcHJpbWVyIHZvdHJlIGNvbXB0ZSAhPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9tYWluPg0K"},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACb,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACrD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACpE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;YAEjD,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpG,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/COMPTE FORMATION/Documents/GitHub/p7_maquette/frontend/groupomania/src/views/Profile.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <main>\r\n        <!--Affichage de l'article-->\r\n        <div class=\"card\">\r\n            <div class=\"profil__info\">\r\n                <p class=\"profil__hello\">Bonjour {{user.pseudo}} !</p>\r\n                <p class=\"profil__para\">Voici les informations de votre compte : </p>\r\n                <p class=\"profil__pseudo\"> Pseudonyme : {{user.pseudo}}</p>\r\n                <p class=\"profil__email\">Email : {{user.email}}</p>\r\n                <p class=\"avatar\">Avatar {{user.avatar}} !</p>\r\n\r\n            </div>\r\n            <div class=\"profil__delete\">\r\n                <!--Bouton pour supprimer l'article-->\r\n                <button v-on:click=\"deleteUser(user.id)\" class=\"profil__button\">Supprimer votre compte !</button>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'Profile',\r\n    data(){\r\n        return {\r\n            user: \"\",\r\n            role: \"\",\r\n            userId: localStorage.getItem('userId'),\r\n            pseudo: localStorage.getItem('pseudo'),\r\n            avatar: localStorage.getItem('avatar'),\r\n            token: localStorage.getItem('token'),\r\n        }\r\n    },\r\n    created() {\r\n        const userId = localStorage.getItem('userId');\r\n        const token = localStorage.getItem('token');\r\n        axios\r\n            .get(\"http://localhost:3000/user/\" + userId, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => (this.user = response.data.user))\r\n            .catch((err) => console.log(err));\r\n    },\r\n    methods:{\r\n        deleteUser(id){\r\n            const userId = id;\r\n            const token = localStorage.getItem('usertoken');\r\n            const url = 'http://localhost:3000/user/' + userId\r\n            axios.delete(url, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then(() => {\r\n                alert('user supprimÃ©');\r\n            })\r\n            .catch(error => console.log(error));\r\n        },\r\n        printNewusers(){\r\n            const id = localStorage.getItem('userId');\r\n            const token = localStorage.getItem('usertoken');\r\n            const header = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            }\r\n            axios.get('http://localhost:3000/user/'+ id, header)\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.user = data;\r\n            })\r\n            .catch(error => console.log({error}));\r\n        }\r\n    },\r\n    \r\n    beforeMount() {\r\n        const role = localStorage.getItem('role');\r\n        this.role = role;\r\n        this.printNewusers();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}