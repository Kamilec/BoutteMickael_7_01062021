{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue?vue&type=template&id=ced23842","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue","mtime":1630942570808},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1630549444514},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInByb2ZpbCIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJwcm9maWxfX2luZm8iCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAicHJvZmlsX19oZWxsbyIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgicCIsIHsKICBjbGFzczogInByb2ZpbF9fcGFyYSIKfSwgIlZvaWNpIGxlcyBpbmZvcm1hdGlvbnMgZGUgdm90cmUgY29tcHRlIDogIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJwcm9maWxfX25hbWUiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAicHJvZmlsX19tYWlsIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogInByb2ZpbF9fY29tcHRlIgp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogInByb2ZpbF9fZGVsZXRlIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibWFpbiIsIG51bGwsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCJBZmZpY2hhZ2UgZGUgbCdhcnRpY2xlIiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzMsICJCb25qb3VyICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnVzZXJzLnBzZXVkbykgKyAiICEiLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzQsIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzUsICIgUHNldWRvbnltZSA6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnVzZXJzLnBzZXVkbyksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfNiwgIkVtYWlsIDogIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEudXNlcnMuZW1haWwpLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzcsICJDcmVhdGlvbiBkdSBjb21wdGU6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnVzZXJzLmNyZWF0ZWRBdCB8IF9jdHguZm9ybWF0RGF0ZSksIDEKICAvKiBURVhUICovCiAgKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCJCb3V0b24gcG91ciBzdXBwcmltZXIgbCdhcnRpY2xlIiksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVVc2VyKCRkYXRhLnVzZXJzLmlkKTsKICAgIH0pLAogICAgY2xhc3M6ICJwcm9maWxfX2J1dHRvbiIKICB9LCAiU3VwcHJpbWVyIHZvdHJlIGNvbXB0ZSAhIildKV0pXSk7Cn0="},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue"],"names":[],"mappings":";;AAGa,EAAA,KAAK,EAAC;;;AACF,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAqE,GAArE,EAAqE;AAAlE,EAAA,KAAK,EAAC;AAA4D,CAArE,EAAwB,2CAAxB,EAAiE,CAAA;AAAA;AAAjE,C;;;AACG,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;AAER,EAAA,KAAK,EAAC;;;uBAVnB,YAAA,CAeO,MAfP,EAeO,IAfP,EAeO,CAdH,mBAAA,CAAA,wBAAA,CAcG,EAbH,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXF,YAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALF,YAAA,CAAuD,GAAvD,EAAA,UAAA,EAAyB,aAAQ,gBAAA,CAAE,KAAA,CAAA,KAAA,CAAM,MAAR,CAAR,GAAwB,IAAjD,EAAmD;AAAA;AAAnD,GAKE,EAJF,UAIE,EAHF,YAAA,CAA0D,GAA1D,EAAA,UAAA,EAAwB,mBAAc,gBAAA,CAAE,KAAA,CAAA,KAAA,CAAM,MAAR,CAAtC,EAAoD;AAAA;AAApD,GAGE,EAFF,YAAA,CAAmD,GAAnD,EAAA,UAAA,EAAwB,aAAQ,gBAAA,CAAE,KAAA,CAAA,KAAA,CAAM,KAAR,CAAhC,EAA6C;AAAA;AAA7C,GAEE,EADF,YAAA,CAAoF,GAApF,EAAA,UAAA,EAA0B,yBAAoB,gBAAA,CAAG,KAAA,CAAA,KAAA,CAAM,SAAN,GAAkB,IAAA,CAAA,UAArB,CAA9C,EAA6E;AAAA;AAA7E,GACE,CANN,CAWE,EAJF,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,mBAAA,CAAA,iCAAA,CAEE,EADF,YAAA,CAAkG,QAAlG,EAAkG;AAArF,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,UAAA,CAAW,KAAA,CAAA,KAAA,CAAM,EAAjB,CAAF;AAAA,KAAA,CAAgF;AAAxD,IAAA,KAAK,EAAC;AAAkD,GAAlG,EAAiE,0BAAjE,CACE,CAHN,CAIE,CAZN,CAaG,CAfP,C","sourcesContent":["<template>\r\n    <main>\r\n        <!--Affichage de l'article-->\r\n        <div class=\"profil\">\r\n            <div class=\"profil__info\">\r\n                <p class=\"profil__hello\">Bonjour {{users.pseudo}} !</p>\r\n                <p class=\"profil__para\">Voici les informations de votre compte : </p>\r\n                <p class=\"profil__name\"> Pseudonyme : {{users.pseudo}}</p>\r\n                <p class=\"profil__mail\">Email : {{users.email}}</p>\r\n                <p class=\"profil__compte\">Creation du compte: {{ users.createdAt | formatDate }}</p>\r\n            </div>\r\n            <div class=\"profil__delete\">\r\n                <!--Bouton pour supprimer l'article-->\r\n                <button v-on:click=\"deleteUser(users.id)\" class=\"profil__button\">Supprimer votre compte !</button>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios' \r\nexport default {\r\n    name: 'Profile',\r\n        components:{\r\n    },\r\n    data(){\r\n        return {\r\n            users: \"\",\r\n            role: \"\",\r\n            userId: localStorage.getItem('userId'),\r\n            token: localStorage.getItem('usertoken'),\r\n        }\r\n    },\r\n    methods:{\r\n        deleteUser(id){\r\n            const userId = id;\r\n            const token = localStorage.getItem('usertoken');\r\n            const url = 'http://localhost:8080/user/:id/' + userId\r\n            axios.delete(url, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then(() => {\r\n                alert('user supprimÃ©');\r\n            })\r\n            .catch(error => console.log(error));\r\n        },\r\n        printNewusers(){\r\n            const id = localStorage.getItem('userId');\r\n            const token = localStorage.getItem('usertoken');\r\n            const header = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            }\r\n            axios.get('http://localhost:3000/user/:id/'+ id, header)\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.users = data;\r\n                console.log(data.username)\r\n            })\r\n            .catch(error => console.log({error}));\r\n        }\r\n    },\r\n    \r\n    beforeMount() {\r\n        const role = localStorage.getItem('role');\r\n        this.role = role;\r\n        this.printNewusers();\r\n    },\r\n}\r\n</script>"],"sourceRoot":""}]}