{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue","mtime":1630952372812},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWxlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogIiIsCiAgICAgIHJvbGU6ICIiLAogICAgICB1c2VySWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSwKICAgICAgcHNldWRvOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHNldWRvJyksCiAgICAgIGF2YXRhcjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F2YXRhcicpLAogICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpOwogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VyLyIgKyB1c2VySWQsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gX3RoaXMudXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcjsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQpIHsKICAgICAgdmFyIHVzZXJJZCA9IGlkOwogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcnRva2VuJyk7CiAgICAgIHZhciB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXIvJyArIHVzZXJJZDsKICAgICAgYXhpb3MuZGVsZXRlKHVybCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBhbGVydCgndXNlciBzdXBwcmltw6knKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcHJpbnROZXd1c2VyczogZnVuY3Rpb24gcHJpbnROZXd1c2VycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7CiAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VydG9rZW4nKTsKICAgICAgdmFyIGhlYWRlciA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlci8nICsgaWQsIGhlYWRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczIudXNlciA9IGRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyh7CiAgICAgICAgICBlcnJvcjogZXJyb3IKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB2YXIgcm9sZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyb2xlJyk7CiAgICB0aGlzLnJvbGUgPSByb2xlOwogICAgdGhpcy5wcmludE5ld3VzZXJzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue"],"names":[],"mappings":"AAqBA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,SADK;AAEX,EAAA,IAFW,kBAEL;AACF,WAAO;AACH,MAAA,IAAI,EAAE,EADH;AAEH,MAAA,IAAI,EAAE,EAFH;AAGH,MAAA,MAAM,EAAE,YAAY,CAAC,OAAb,CAAqB,QAArB,CAHL;AAIH,MAAA,MAAM,EAAE,YAAY,CAAC,OAAb,CAAqB,QAArB,CAJL;AAKH,MAAA,MAAM,EAAE,YAAY,CAAC,OAAb,CAAqB,QAArB,CALL;AAMH,MAAA,KAAK,EAAE,YAAY,CAAC,OAAb,CAAqB,OAArB;AANJ,KAAP;AAQH,GAXU;AAYX,EAAA,OAZW,qBAYD;AAAA;;AACN,QAAM,MAAK,GAAI,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAf;AACA,QAAM,KAAI,GAAI,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAd;AACA,IAAA,KAAI,CACC,GADL,CACS,gCAAgC,MADzC,EACiD;AACzC,MAAA,OAAM,EAAG;AACL,wBAAgB,kBADX;AAEL,0CAA2B,KAA3B;AAFK;AADgC,KADjD,EAOK,IAPL,CAOU,UAAC,QAAD;AAAA,aAAe,KAAI,CAAC,IAAL,GAAY,QAAQ,CAAC,IAAT,CAAc,IAAzC;AAAA,KAPV,EAQK,KARL,CAQW,UAAC,GAAD;AAAA,aAAS,OAAO,CAAC,GAAR,CAAY,GAAZ,CAAT;AAAA,KARX;AASH,GAxBU;AAyBX,EAAA,OAAO,EAAC;AACJ,IAAA,UADI,sBACO,EADP,EACU;AACV,UAAM,MAAK,GAAI,EAAf;AACA,UAAM,KAAI,GAAI,YAAY,CAAC,OAAb,CAAqB,WAArB,CAAd;AACA,UAAM,GAAE,GAAI,gCAAgC,MAA5C;AACA,MAAA,KAAK,CAAC,MAAN,CAAa,GAAb,EAAkB;AACd,QAAA,OAAM,EAAG;AACL,0BAAgB,kBADX;AAEL,4CAA2B,KAA3B;AAFK;AADK,OAAlB,EAMC,IAND,CAMM,YAAM;AACR,QAAA,KAAK,CAAC,eAAD,CAAL;AACH,OARD,EASC,KATD,CASO,UAAA,KAAI;AAAA,eAAK,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAL;AAAA,OATX;AAUH,KAfG;AAgBJ,IAAA,aAhBI,2BAgBW;AAAA;;AACX,UAAM,EAAC,GAAI,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAX;AACA,UAAM,KAAI,GAAI,YAAY,CAAC,OAAb,CAAqB,WAArB,CAAd;AACA,UAAM,MAAK,GAAI;AACX,QAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,4CAA2B,KAA3B;AAFK;AADE,OAAf;AAMA,MAAA,KAAK,CAAC,GAAN,CAAU,gCAA+B,EAAzC,EAA6C,MAA7C,EACC,IADD,CACM,UAAA,GAAE,EAAK;AACT,YAAM,IAAG,GAAI,GAAG,CAAC,IAAjB;AACA,QAAA,MAAI,CAAC,IAAL,GAAY,IAAZ;AACH,OAJD,EAKC,KALD,CAKO,UAAA,KAAI;AAAA,eAAK,OAAO,CAAC,GAAR,CAAY;AAAC,UAAA,KAAK,EAAL;AAAD,SAAZ,CAAL;AAAA,OALX;AAMJ;AA/BI,GAzBG;AA2DX,EAAA,WA3DW,yBA2DG;AACV,QAAM,IAAG,GAAI,YAAY,CAAC,OAAb,CAAqB,MAArB,CAAb;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,aAAL;AACH;AA/DU,CAAf","sourcesContent":["<template>\r\n    <main>\r\n        <!--Affichage de l'article-->\r\n        <div class=\"card\">\r\n            <div class=\"profil__info\">\r\n                <p class=\"profil__hello\">Bonjour {{user.pseudo}} !</p>\r\n                <p class=\"profil__para\">Voici les informations de votre compte : </p>\r\n                <p class=\"profil__pseudo\"> Pseudonyme : {{user.pseudo}}</p>\r\n                <p class=\"profil__email\">Email : {{user.email}}</p>\r\n                <p class=\"avatar\">Avatar {{user.avatar}} !</p>\r\n\r\n            </div>\r\n            <div class=\"profil__delete\">\r\n                <!--Bouton pour supprimer l'article-->\r\n                <button v-on:click=\"deleteUser(user.id)\" class=\"profil__button\">Supprimer votre compte !</button>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'Profile',\r\n    data(){\r\n        return {\r\n            user: \"\",\r\n            role: \"\",\r\n            userId: localStorage.getItem('userId'),\r\n            pseudo: localStorage.getItem('pseudo'),\r\n            avatar: localStorage.getItem('avatar'),\r\n            token: localStorage.getItem('token'),\r\n        }\r\n    },\r\n    created() {\r\n        const userId = localStorage.getItem('userId');\r\n        const token = localStorage.getItem('token');\r\n        axios\r\n            .get(\"http://localhost:3000/user/\" + userId, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => (this.user = response.data.user))\r\n            .catch((err) => console.log(err));\r\n    },\r\n    methods:{\r\n        deleteUser(id){\r\n            const userId = id;\r\n            const token = localStorage.getItem('usertoken');\r\n            const url = 'http://localhost:3000/user/' + userId\r\n            axios.delete(url, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then(() => {\r\n                alert('user supprimÃ©');\r\n            })\r\n            .catch(error => console.log(error));\r\n        },\r\n        printNewusers(){\r\n            const id = localStorage.getItem('userId');\r\n            const token = localStorage.getItem('usertoken');\r\n            const header = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            }\r\n            axios.get('http://localhost:3000/user/'+ id, header)\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.user = data;\r\n            })\r\n            .catch(error => console.log({error}));\r\n        }\r\n    },\r\n    \r\n    beforeMount() {\r\n        const role = localStorage.getItem('role');\r\n        this.role = role;\r\n        this.printNewusers();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":""}]}