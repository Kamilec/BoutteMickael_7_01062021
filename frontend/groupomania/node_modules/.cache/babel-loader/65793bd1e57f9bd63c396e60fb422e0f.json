{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue?vue&type=template&id=ced23842&scoped=true","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue","mtime":1630952372812},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1630549444514},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LWNlZDIzODQyIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi1jZWQyMzg0MiIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjYXJkIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInByb2ZpbF9faW5mbyIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJwcm9maWxfX2hlbGxvIgp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJwIiwgewogIGNsYXNzOiAicHJvZmlsX19wYXJhIgp9LCAiVm9pY2kgbGVzIGluZm9ybWF0aW9ucyBkZSB2b3RyZSBjb21wdGUgOiAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInByb2ZpbF9fcHNldWRvIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogInByb2ZpbF9fZW1haWwiCn07CnZhciBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAiYXZhdGFyIgp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogInByb2ZpbF9fZGVsZXRlIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibWFpbiIsIG51bGwsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCJBZmZpY2hhZ2UgZGUgbCdhcnRpY2xlIiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzMsICJCb25qb3VyICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnVzZXIucHNldWRvKSArICIgISIsIDEKICAvKiBURVhUICovCiAgKSwgX2hvaXN0ZWRfNCwgX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfNSwgIiBQc2V1ZG9ueW1lIDogIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEudXNlci5wc2V1ZG8pLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzYsICJFbWFpbCA6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnVzZXIuZW1haWwpLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzcsICJBdmF0YXIgIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEudXNlci5hdmF0YXIpICsgIiAhIiwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVDb21tZW50Vk5vZGUoIkJvdXRvbiBwb3VyIHN1cHByaW1lciBsJ2FydGljbGUiKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZVVzZXIoJGRhdGEudXNlci5pZCk7CiAgICB9KSwKICAgIGNsYXNzOiAicHJvZmlsX19idXR0b24iCiAgfSwgIlN1cHByaW1lciB2b3RyZSBjb21wdGUgISIpXSldKV0pOwp9KTs="},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Profile.vue"],"names":[],"mappings":";;;;;;;AAGa,EAAA,KAAK,EAAC;;;AACF,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAqE,GAArE,EAAqE;AAAlE,EAAA,KAAK,EAAC;AAA4D,CAArE,EAAwB,2CAAxB,EAAiE,CAAA;AAAA;AAAjE,C;;;AACG,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;AAGR,EAAA,KAAK,EAAC;;;;;;uBAXnB,YAAA,CAgBO,MAhBP,EAgBO,IAhBP,EAgBO,CAfH,mBAAA,CAAA,wBAAA,CAeG,EAdH,YAAA,CAaM,KAbN,EAAA,UAAA,EAaM,CAZF,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANF,YAAA,CAAsD,GAAtD,EAAA,UAAA,EAAyB,aAAQ,gBAAA,CAAE,KAAA,CAAA,IAAA,CAAK,MAAP,CAAR,GAAuB,IAAhD,EAAkD;AAAA;AAAlD,GAME,EALF,UAKE,EAJF,YAAA,CAA2D,GAA3D,EAAA,UAAA,EAA0B,mBAAc,gBAAA,CAAE,KAAA,CAAA,IAAA,CAAK,MAAP,CAAxC,EAAqD;AAAA;AAArD,GAIE,EAHF,YAAA,CAAmD,GAAnD,EAAA,UAAA,EAAyB,aAAQ,gBAAA,CAAE,KAAA,CAAA,IAAA,CAAK,KAAP,CAAjC,EAA6C;AAAA;AAA7C,GAGE,EAFF,YAAA,CAA8C,GAA9C,EAAA,UAAA,EAAkB,YAAO,gBAAA,CAAE,KAAA,CAAA,IAAA,CAAK,MAAP,CAAP,GAAsB,IAAxC,EAA0C;AAAA;AAA1C,GAEE,CAPN,CAYE,EAJF,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,mBAAA,CAAA,iCAAA,CAEE,EADF,YAAA,CAAiG,QAAjG,EAAiG;AAApF,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,UAAA,CAAW,KAAA,CAAA,IAAA,CAAK,EAAhB,CAAF;AAAA,KAAA,CAA+E;AAAxD,IAAA,KAAK,EAAC;AAAkD,GAAjG,EAAgE,0BAAhE,CACE,CAHN,CAIE,CAbN,CAcG,CAhBP,C","sourcesContent":["<template>\r\n    <main>\r\n        <!--Affichage de l'article-->\r\n        <div class=\"card\">\r\n            <div class=\"profil__info\">\r\n                <p class=\"profil__hello\">Bonjour {{user.pseudo}} !</p>\r\n                <p class=\"profil__para\">Voici les informations de votre compte : </p>\r\n                <p class=\"profil__pseudo\"> Pseudonyme : {{user.pseudo}}</p>\r\n                <p class=\"profil__email\">Email : {{user.email}}</p>\r\n                <p class=\"avatar\">Avatar {{user.avatar}} !</p>\r\n\r\n            </div>\r\n            <div class=\"profil__delete\">\r\n                <!--Bouton pour supprimer l'article-->\r\n                <button v-on:click=\"deleteUser(user.id)\" class=\"profil__button\">Supprimer votre compte !</button>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'Profile',\r\n    data(){\r\n        return {\r\n            user: \"\",\r\n            role: \"\",\r\n            userId: localStorage.getItem('userId'),\r\n            pseudo: localStorage.getItem('pseudo'),\r\n            avatar: localStorage.getItem('avatar'),\r\n            token: localStorage.getItem('token'),\r\n        }\r\n    },\r\n    created() {\r\n        const userId = localStorage.getItem('userId');\r\n        const token = localStorage.getItem('token');\r\n        axios\r\n            .get(\"http://localhost:3000/user/\" + userId, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => (this.user = response.data.user))\r\n            .catch((err) => console.log(err));\r\n    },\r\n    methods:{\r\n        deleteUser(id){\r\n            const userId = id;\r\n            const token = localStorage.getItem('usertoken');\r\n            const url = 'http://localhost:3000/user/' + userId\r\n            axios.delete(url, {\r\n                headers :{\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then(() => {\r\n                alert('user supprimÃ©');\r\n            })\r\n            .catch(error => console.log(error));\r\n        },\r\n        printNewusers(){\r\n            const id = localStorage.getItem('userId');\r\n            const token = localStorage.getItem('usertoken');\r\n            const header = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            }\r\n            axios.get('http://localhost:3000/user/'+ id, header)\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.user = data;\r\n            })\r\n            .catch(error => console.log({error}));\r\n        }\r\n    },\r\n    \r\n    beforeMount() {\r\n        const role = localStorage.getItem('role');\r\n        this.role = role;\r\n        this.printNewusers();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":""}]}