{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Login.vue","mtime":1630951140645},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5lcnJvckFsZXJ0ID0gZmFsc2U7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VyL2xvZ2luJywgewogICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKS52YWx1ZSwKICAgICAgICBwYXNzd29yZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykudmFsdWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzLmRhdGEudG9rZW4pOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySWQiLCByZXMuZGF0YS51c2VySWQpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhdmF0YXIiLCByZXMuZGF0YS5hdmF0YXIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb2xlIiwgcmVzLmRhdGEucm9sZSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmVycm9yQWxlcnQgPSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Login.vue"],"names":[],"mappings":"AA4BA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,QAAQ,EAAE;AAFP,KAAP;AAIH,GAPU;AAQX,EAAA,OAAO,EAAE;AACL,IAAA,KADK,mBACG;AAAA;;AACJ,WAAK,UAAL,GAAkB,KAAlB;AACA,MAAA,KAAK,CAAC,IAAN,CAAW,kCAAX,EAA+C;AAC3C,QAAA,KAAK,EAAE,QAAQ,CAAC,cAAT,CAAwB,OAAxB,EAAiC,KADG;AAE3C,QAAA,QAAQ,EAAE,QAAQ,CAAC,cAAT,CAAwB,UAAxB,EAAoC;AAFH,OAA/C,EAIK,IAJL,CAIU,UAAC,GAAD,EAAS;AACX,QAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,GAAG,CAAC,IAAJ,CAAS,KAAvC;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,QAArB,EAA+B,GAAG,CAAC,IAAJ,CAAS,MAAxC;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,QAArB,EAA+B,GAAG,CAAC,IAAJ,CAAS,MAAxC;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA6B,GAAG,CAAC,IAAJ,CAAS,IAAtC;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACH,OAVL,EAWK,KAXL,CAWW,YAAM;AACT,QAAA,KAAI,CAAC,UAAL,GAAkB,IAAlB;AACH,OAbL;AAcJ;AAjBK;AARE,CAAf","sourcesContent":["<template>\r\n<div class=\"card\">\r\n        <div>\r\n            <p class=\"login__intro--text\">Le réseau social pour les employés !</p>\r\n            <router-link to=\"/Inscription\" class=\"login__inscription\">S'INSCRIRE</router-link>\r\n        </div>\r\n        <div class=\"authentification__form\">\r\n            <form class=\"login__form\" v-on:submit.prevent=\"login()\">\r\n                <div>\r\n                    <label class=\"login__label\" for=\"email\"></label>\r\n                    <input class=\"form__row__input\" v-model=\"email\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"email\" autocomplete=\"username\" v-on:focus=\"deActivate\"><br/>\r\n                    <span class=\"error\" v-show=\"!email\" >Veuillez saisir votre email</span>\r\n                </div>\r\n                <div>\r\n                    <label class=\"login__label\" for=\"password\"></label>\r\n                    <input class=\"form__row__input\" v-model=\"password\" type=\"password\" name=\"password\" id=\"password\" autocomplete=\"current-password\" placeholder=\"password\" v-on:focus=\"deActivate\"><br/>\r\n                    <span class=\"error\" v-show=\"!password\">Veuillez saisir votre password</span>\r\n                </div>\r\n                <div class=\"login__button\">\r\n                    <button class=\"login__submit\" type=\"submit\">CONNEXION</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: 'login',\r\n    data() {\r\n        return {\r\n            email: \"\",\r\n            password: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        login() {\r\n            this.errorAlert = false;\r\n            axios.post('http://localhost:3000/user/login', {\r\n                email: document.getElementById('email').value,\r\n                password: document.getElementById('password').value,\r\n            })\r\n                .then((res) => {\r\n                    localStorage.setItem(\"token\", res.data.token)\r\n                    localStorage.setItem(\"userId\", res.data.userId)\r\n                    localStorage.setItem(\"avatar\", res.data.avatar)\r\n                    localStorage.setItem(\"role\", res.data.role)\r\n                    this.$router.push('/profile');\r\n                })\r\n                .catch(() => {\r\n                    this.errorAlert = true\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>"],"sourceRoot":""}]}