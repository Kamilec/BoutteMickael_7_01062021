{"remainingRequest":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Posted.vue?vue&type=template&id=c8d74f0e","dependencies":[{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Posted.vue","mtime":1631501445985},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":1630549441356},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1630549444514},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630549438092},{"path":"C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630549442492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycyB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgUHVibGllciBwYXI6ICIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEucG9zdCwgZnVuY3Rpb24gKHBvc3QsIGlkKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6ICJjYXJkIiwKICAgICAga2V5OiBpZAogICAgfSwgW19jcmVhdGVWTm9kZSgiZmlndXJlIiwgbnVsbCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhwb3N0LmNvbnRlbnQpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoImltZyIsIHsKICAgICAgaWQ6ICJpbWFnZVVybC1Vc2VyIiwKICAgICAgY2xhc3M6ICJpbWFnZVVybCIsCiAgICAgIHNyYzogcG9zdC5pbWFnZVVybCwKICAgICAgYWx0OiAiaW1hZ2VVcmwiCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbInNyYyJdKSwgX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgW19ob2lzdGVkXzEsIF9jcmVhdGVWTm9kZSgiYiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcocG9zdC51c2VyLnBzZXVkbyksIDEKICAgIC8qIFRFWFQgKi8KICAgICldKSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KHBvc3QuY29tbWVudHMsIGZ1bmN0aW9uIChjb21tZW50LCBpbmRleCkgewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAgICBrZXk6ICJjb21tZW50Ii5jb25jYXQoaW5kZXgpCiAgICAgIH0sIFtfY3JlYXRlVk5vZGUoInAiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGNvbW1lbnQudXNlci5wc2V1ZG8pICsgIiAiICsgX3RvRGlzcGxheVN0cmluZyhjb21tZW50LmNvbW1lbnQpLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKSwgJGRhdGEudXNlcklkID09IGNvbW1lbnQudXNlcklkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICAgICAga2V5OiAwLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJG9wdGlvbnMuZGVsZXRlQ29tbWVudFVzZXIoY29tbWVudC5pZCk7CiAgICAgICAgfQogICAgICB9LCAiIHN1cHByaW1lciAiLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkNsaWNrIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJGRhdGEudXNlcklkID09IGNvbW1lbnQudXNlcklkID8gX3dpdGhEaXJlY3RpdmVzKChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiaW5wdXQiLCB7CiAgICAgICAga2V5OiAxLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogZnVuY3Rpb24gb25VcGRhdGVNb2RlbFZhbHVlKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNvbW1lbnQubmV3Q29tbWVudCA9ICRldmVudDsKICAgICAgICB9CiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm9uVXBkYXRlOm1vZGVsVmFsdWUiXSkpLCBbW192TW9kZWxUZXh0LCBjb21tZW50Lm5ld0NvbW1lbnRdXSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJG9wdGlvbnMudXBkYXRlQ29tbWVudFVzZXIoY29tbWVudC5pZCwgY29tbWVudC5uZXdDb21tZW50KTsKICAgICAgICB9CiAgICAgIH0sICJ1cGRhdGUiLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVGV4dFZOb2RlKCIgIiArIF90b0Rpc3BsYXlTdHJpbmcoY29tbWVudC5pZCksIDEKICAgICAgLyogVEVYVCAqLwogICAgICApXSk7CiAgICB9KSwgMTI4CiAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgKSksIF9jcmVhdGVWTm9kZSgiZm9ybSIsIHsKICAgICAgaWQ6ICJzdXJ2ZXkiLAogICAgICByZWY6ICJjbGVhciIsCiAgICAgIG9uU3VibWl0OiBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLnNlbmRDb21tZW50cyhwb3N0LmlkKTsKICAgICAgfSwgWyJwcmV2ZW50Il0pCiAgICB9LCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBmdW5jdGlvbiBvblVwZGF0ZU1vZGVsVmFsdWUoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRkYXRhLmNvbW1lbnRzW3Bvc3QuaWRdID0gJGV2ZW50OwogICAgICB9CiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbIm9uVXBkYXRlOm1vZGVsVmFsdWUiXSksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmNvbW1lbnRzW3Bvc3QuaWRdXV0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIGNsYXNzOiAicHJvZmlsX19idXR0b24iLAogICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLnNlbmRDb21tZW50cyhwb3N0LmlkKTsKICAgICAgfSwgWyJwcmV2ZW50Il0pCiAgICB9LCAiIENvbW1lbnRlciAiLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbIm9uQ2xpY2siXSldLCA0MAogICAgLyogUFJPUFMsIEhZRFJBVEVfRVZFTlRTICovCiAgICAsIFsib25TdWJtaXQiXSldKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["C:\\Users\\COMPTE FORMATION\\Documents\\GitHub\\p7_maquette\\frontend\\groupomania\\src\\views\\Posted.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"card\" v-for=\"(post, id) in post\" :key=\"id\">\r\n    <figure>\r\n      <div>\r\n{{ post.content }}\r\n      </div>\r\n      <img\r\n        id=\"imageUrl-User\"\r\n        class=\"imageUrl\"\r\n        :src=\"post.imageUrl\"\r\n        alt=\"imageUrl\"\r\n      />\r\n      <p>\r\n        Publier par: <b> {{ post.user.pseudo }} </b>\r\n      </p>\r\n      <div v-for=\"(comment, index) in post.comments\" :key=\"`comment${index}`\">\r\n        <p>{{ comment.user.pseudo }} {{ comment.comment }}</p>\r\n        <button\r\n          v-if=\"userId == comment.userId\"\r\n          @click=\"deleteCommentUser(comment.id)\"\r\n        >\r\n          supprimer\r\n        </button>\r\n        \r\n         <input\r\n          v-if=\"userId == comment.userId\" v-model=\"comment.newComment\"\r\n        >\r\n         <button @click='updateCommentUser(comment.id, comment.newComment)'>update</button> \r\n        {{ comment.id }}\r\n\r\n      </div>\r\n      <form id=\"survey\" ref=\"clear\" @submit.prevent=\"sendComments(post.id)\">\r\n        <input type=\"text\" v-model=\"comments[post.id]\" />\r\n        <button\r\n          type=\"submit\"\r\n          class=\"profil__button\"\r\n          @click.prevent=\"sendComments(post.id)\"\r\n        >\r\n          Commenter\r\n        </button>\r\n      </form>\r\n    </figure>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  export default {\r\n    name: 'Posted',\r\n\r\n    data() {\r\n      return {\r\n        comments: {},\r\n        post: [],\r\n        role: localStorage.getItem('role'),\r\n        token: localStorage.getItem('token'),\r\n        userId: localStorage.getItem('userId'),\r\n      };\r\n    },\r\n\r\n    created() {\r\n      axios\r\n        .get('http://localhost:3000/post/all', {\r\n          headers: { Authorization: 'Bearer ' + localStorage.token },\r\n        })\r\n        .then((res) => {\r\n          this.post = res.data.reverse();\r\n          console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err + 'Utilisateur inconnu ou Posts indisponibles');\r\n        });\r\n    },\r\n\r\n    methods: {\r\n      sendComments(postId) {\r\n        axios\r\n          .post(\r\n            'http://localhost:3000/comment/create',\r\n            { postId, comment: this.comments[postId] },\r\n            {\r\n              headers: { Authorization: 'Bearer ' + localStorage.token },\r\n            }\r\n          )\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      deleteCommentUser(commentId) {\r\n        axios\r\n          .delete(`http://localhost:3000/comment/delete/${commentId}`, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n      updateCommentUser(commentId, commentUser) {\r\n        axios\r\n          .put(`http://localhost:3000/comment/update/${commentId}`, {comment: commentUser}, {\r\n            headers: { Authorization: 'Bearer ' + localStorage.token },\r\n          })\r\n          .then(() => {\r\n            this.$router.go();\r\n          });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n/<style></style>\r\n"],"sourceRoot":""}]}